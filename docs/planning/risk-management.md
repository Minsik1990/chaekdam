# 리스크 관리 (Risk Management)

> 기술/비즈니스/운영 리스크 식별 및 대응 계획

---

## 1. 기술 리스크

| #   | 리스크                          | 확률 | 영향   | 대응 전략                                    | 모니터링            |
| --- | ------------------------------- | ---- | ------ | -------------------------------------------- | ------------------- |
| T1  | Supabase 7일 비활성 일시정지    | 높음 | 치명적 | GitHub Actions cron (3일마다)                | Actions 로그        |
| T2  | 네이버 도서 API Rate Limit 초과 | 중간 | 높음   | books 테이블 캐싱, 429 에러 시 캐시 우선     | API 에러 로그       |
| T3  | Claude API 비용 급증            | 낮음 | 중간   | ai_contents 캐싱, Prompt Caching, Haiku 우선 | Anthropic Console   |
| T4  | Vercel 대역폭 100GB 초과        | 낮음 | 중간   | next/image 최적화, 외부 이미지 직접 링크     | Vercel Usage        |
| T5  | Magic Link 이메일 스팸 처리     | 중간 | 중간   | Supabase SMTP 커스텀 도메인 설정             | 사용자 피드백       |
| T6  | DB 용량 500MB 초과              | 낮음 | 높음   | 이미지 URL만 저장, AI 로그 주기적 정리       | Supabase Dashboard  |
| T7  | Next.js 메이저 버전 변경        | 낮음 | 중간   | 업그레이드 전 staging 검증                   | Next.js 릴리스 노트 |

---

## 2. 비즈니스 리스크

| #   | 리스크                        | 확률 | 영향 | 대응 전략                                           |
| --- | ----------------------------- | ---- | ---- | --------------------------------------------------- |
| B1  | 사용자 유입 저조 (MAU < 10명) | 중간 | 높음 | 독서 모임 커뮤니티 타겟팅, 친구 초대 인센티브       |
| B2  | 독서 기록 지속성 낮음         | 높음 | 높음 | AI 인터뷰로 진입 장벽 낮춤, 주간 리마인드 (Phase 3) |
| B3  | 경쟁 서비스 진입              | 중간 | 중간 | 차별점 강화 (AI 대화, 모임 통합, 무료)              |
| B4  | Pro 전환율 부진 (<3%)         | 중간 | 중간 | Free 플랜 한도 조정, 프리미엄 기능 가치 강화        |
| B5  | 독서 모임 기능 외면           | 중간 | 낮음 | 개인 기록이 핵심, 모임은 부가 → 리스크 제한적       |

---

## 3. 운영 리스크

| #   | 리스크                        | 확률 | 영향   | 대응 전략                                    |
| --- | ----------------------------- | ---- | ------ | -------------------------------------------- |
| O1  | 개인정보 유출                 | 낮음 | 치명적 | RLS 필수, 환경변수만, 개인정보처리방침       |
| O2  | DB 데이터 손실                | 낮음 | 치명적 | Supabase 7일 PITR, 주간 수동 백업            |
| O3  | 서비스 중단 (Supabase/Vercel) | 낮음 | 높음   | 상태 페이지 모니터링, 장애 대응 Runbook      |
| O4  | 1인 개발 리스크               | 높음 | 중간   | 문서화 철저, CLAUDE.md로 AI 컨텍스트 유지    |
| O5  | API 키 노출                   | 낮음 | 치명적 | .env.local만, .gitignore 확인, PreToolUse 훅 |

---

## 4. 리스크 매트릭스

```
영향(Impact)
  치명적 │ O1,O2,O5   T1
         │
  높   음 │ B1,B2      T2,T6,O3
         │
  중   간 │ B3,B4,O4   T3,T4,T5,T7
         │
  낮   음 │ B5
         │
         └───────────────────────────
              낮음      중간      높음
                    확률(Probability)
```

**우선 대응 영역**: 우상단 (높은 확률 + 높은 영향)

- T1: Supabase 비활성 → **이미 대응 완료** (cron 설정)
- B1, B2: 사용자 유입/지속성 → **MVP 검증 핵심**

---

## 5. 리스크 모니터링 체계

| 지표                 | 임계값             | 주기    | 알림 채널         | 담당       |
| -------------------- | ------------------ | ------- | ----------------- | ---------- |
| Supabase DB 사용량   | > 450MB            | 주간    | 수동 확인         | @minsikkim |
| Vercel 대역폭        | > 80GB             | 주간    | 수동 확인         | @minsikkim |
| AI 비용              | > $40/월           | 월간    | Anthropic Console | @minsikkim |
| MAU                  | < 5명 (2개월 연속) | 월간    | 수동 확인         | @minsikkim |
| Keep-Alive cron 실패 | 1회 실패           | 실행 시 | GitHub Actions    | @minsikkim |

---

## 6. 대응 완료 현황

| 리스크                 | 대응                               | 상태                  |
| ---------------------- | ---------------------------------- | --------------------- |
| T1 (Supabase 비활성)   | GitHub Actions cron 3일마다        | 완료                  |
| T2 (네이버 Rate Limit) | books 테이블 캐싱 구현             | 완료                  |
| T3 (AI 비용)           | ai_contents 캐싱 + Prompt Caching  | 완료                  |
| T5 (Magic Link 스팸)   | -                                  | 미대응 (발생 시 조치) |
| O5 (API 키 노출)       | .gitignore + 환경변수              | 완료                  |
| O4 (1인 개발)          | CLAUDE.md + 문서화 + Serena 메모리 | 완료                  |
